<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Customers API</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
<main>
    <div class="container-fluid">
        <h1>Customers API</h1>
        <p>Crud API for a CRM.</p>

        <h2>URL</h2>
        <p>This project can be viewed and downloaded from the following url: <a
                href="https://github.com/deeprave/go-crm">https://github.com/deeprave/go-crm</a>.</p>

        <h2>Description</h2>
        <p>This project provides a basic API written in Go as a backend for a CRM.</p>

        <h2>Pre-requisites</h2>
        <ul><li>go version 1.18 or later</li></ul>

        <h2>Server startup</h2>
        <p>After checking into the root folder for this project, the following command starts the server:
        <code>
            go run main.go
        </code>
        </p>
        <p>The server is bound to localhost, port 4000 as hard-coded values.
        No other command line options are currently available.
        </p>

        <h2>CRM Domain</h2>
        <p>This api provides access only to the customer list, the core table in a CRM.
        It provides the ability to:</p>
        <ul>
            <li>create new customers   <code>POST /customers</code></li>
            <li>display all customers  <code>GET /customers</code></li>
            <li>display a specific customer <code>GET /customers/{id}</code></li>
            <li>update a specific customer <code>PUT /customers/{id}</code></li>
            <li>delete a specific customer <code>DELETE /customers/{id}</code></li>
        </ul>

        <p>Each customer record consists of an Id (assigned on creation), a name, role, email phone number
            and a "sticky" (stays true once set) contacted field that indicates whether that customer has
            been contacted.
        </p>

        <h2>Go libraries</h2>
        <p>This project uses:</p>
        <ul><li>gorilla/mux</li></ul>
        <p>as the only third party library. All other functionality is provided by Go's standard library.</p>

        <h2>Modules & code</h2>
        <p>This project is structured as follows:</p>
        <ul>
            <li><code>github.com/deeprave/go-crm</code> is the project root. It contains the following two sub-modules:</li>
            <ul>
                <li><code>crm</code> contains the customer "database"</li>
                <li><code>api</code> contains the api including handlers</li>
            </ul>
        </ul>

        <p>All source code files have high test coverage in the provided *_test.go files and may be run using:
        <code>
            go test ./...
        </code>
        </p>
        <p>The file <code>httptests.http</code> contains a sample list of requests used to develop the api.
        This file may be used directly by any Jetbrains IDE to run the requests, which requires
        that the server itself is running.</p>

        <p><code>api/crm_test.go</code> contains httptest tests that interact with and test the handlers.</p>

        <p>The `main.go` module defines two additional url paths:</p>
        <ul>
            <li><code>GET /</code> displays <code>public/index.html</code>, which contains the present content</li>
            <li><code>POST /load-test-data</code> allows loading some suitable test data in json format into the server.</li>
            <p>In the body of the request, place the path to the file to load, e..g:</p>
            <pre>
{
    "path": "crm/data/customers.json"
}
            </pre>
        </ul>
    </div>
</main>
</body>
</html>